<?xml version="1.0"?>
<root main_tree_to_execute="BehaviorTree">
    <!-- ////////// -->
    <BehaviorTree ID="BehaviorTree">
        <ReactiveFallback>
            <ReactiveSequence name="TrySearchBall">
                <Condition ID="Ball_detected"/>
                <Sequence name="Followball">
                    <Action ID="Perceive_ball" info="{binfo}"/>
                    <Action ID="Follow_point" in="{binfo}"/>
                </Sequence>
            </ReactiveSequence>
            <ReactiveSequence name="TrySearchPerson">
                <Condition ID="Person_detected"/>
                <Sequence name="Followperson">
                    <Action ID="Perceive_person" info="{pinfo}"/>
                    <Action ID="Follow_point" in="{pinfo}"/>
                </Sequence>
            </ReactiveSequence>
            <Action ID="Turn"/>
        </ReactiveFallback>
    </BehaviorTree>
    <!-- ////////// -->
    <TreeNodesModel>
        <Condition ID="Ball_detected"/>
        <Action ID="Follow_point">
            <input_port name="in">Punto percibido de la bola al que moverse</input_port>
        </Action>
        <Action ID="Perceive_ball">
            <output_port name="info">Extrae info de la posicion de la bola</output_port>
        </Action>
        <Action ID="Perceive_person">
            <output_port name="info">Informacion devuelta sobre la persona detectada</output_port>
        </Action>
        <Condition ID="Person_detected"/>
        <Action ID="Turn"/>
    </TreeNodesModel>
    <!-- ////////// -->
</root>

